modmap:
  - name: Caps lock acts as control, caps lock and alt act as a prefix and as compose when pressed alone, respectively
    remap:
      AlT_R:
        held: ALT_R
        alone: Compose
        alone_timeout_millis: 500
      CapsLock:
        held: CTRL_R
        alone: ALT-F1
        alone_timeout_millis: 500

keymap:
  - name: Caps lock as prefix key, mostly for hyprland bindings
    mode: default
    remap:
      # CTRL_L-ALT_L: { set_mode: compose }
      CTRL_R-KEY_J: Esc

      ALT-F1:
        remap:
          ALT-F1: CTRL-ALT-Esc
            launch: ["zsh", "$HOME/.local/sbin/toggle_caps_led"]
          KEY_B: ALT-KEY_A  # Tmux
          Apostrophe: SUPER-KEY_Q # Go to terminal
          KEY_I: ALT-KEY_I  # Go to terminal and lock
          Semicolon: ALT-Semicolon  # Go to terminal and unlock
          KEY_O: SUPER-KEY_W  # Go to browser
          KEY_P: SUPER-ALT_W  # Browser in empty workspace
          KEY_R: SUPER-KEY_R  # Runner in empty workspace
          KEY_T: SUPER-KEY_T  # Runner in current workspace

          # Window movement
          KEY_H: SUPER-KEY_H
          KEY_J: SUPER-KEY_J
          KEY_K: SUPER-KEY_K
          KEY_L: SUPER-KEY_L

          KEY_U: ALT-KEY_Q  # Zellij
        timeout_millis: 250

  # - name: Mode where caps lock is compose key
  #   mode: compose
  #   remap:
  #     ALT-F1: Compose
  #     CTRL_R-Enter: { set_mode: default}

# default_mode: default
